{% extends "layout.html" %}

{% block content %}
<section class="bg-transparent p-0 m-0 ty-content d-flex flex-column align-items-center justify-content-center">
    <div class="w-50 text-light">
        <h2 class="text-center font-weight-bold">Renach</h2>
        <p style="text-align-last: center;" class="text-justify ty-text-body">Extração de documentos de maneira rápida e inteligente.</p>
    </div>
    <div class="bg-transparent demo-container" id="image-demo">
        <div class="ty-center ty-app d-flex flex-column align-items-center justify-content-center">
            <form action="/renach/upload" class ="d-flex flex-column align-items-center justify-content-center" enctype="multipart/form-data" method='post'>
                <div class="input-group mb-3">
                    <div class="custom-file">
                        <input id="first_image" type="file" class="custom-file-input" name="file" accept="application/pdf" multiple>
                        <label id="labelGroupFile01" class="custom-file-label" for="first_image">Selecione os documentos</label>
                    </div>
                </div>
                <div class="d-flex">
                    <a href="/" class="btn btn-warning m-1">Voltar</a>
                    <input type="submit" class="btn btn-success m-1" value="Enviar">
                </div>
                <div id="loader" class="loader"></div>
            </form>
        </div>
    </div>
</section>
<section>
    <img src="/static/img/VERT_RODAPE.png" style="width: 100vw; height: calc(100vw/12.8); bottom: 0; position: absolute;">
</section>
<script>
    document.getElementById('first_image').addEventListener('change',function(){
        //get the file name
        var fullPath = this.value;
        var fileName = "arquivo_sem_nome"
        if (fullPath) {
            var startIndex = (fullPath.indexOf('\\') >= 0 ? fullPath.lastIndexOf('\\') : fullPath.lastIndexOf('/'));
            fileName = fullPath.substring(startIndex);
            if (fileName.indexOf('\\') === 0 || fileName.indexOf('/') === 0) {
                fileName = fileName.substring(1);
            }
        }
        //replace the "Choose a file" label
        document.getElementById('labelGroupFile01').textContent = fileName
    })
</script>
{% endblock %}
